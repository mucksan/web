<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>インタラクティブ長崎旅行ガイド</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony -->
    <!-- Application Structure Plan: The application uses a tab-based navigation for each day (Day 1, 2, 3), which is the most intuitive structure for a travel itinerary. Within each day, a two-column layout is used. The left, sticky column provides a vertical timeline of the day's key events, acting as a quick-glance agenda and a sub-navigation. The right, scrollable column displays detailed information for each event in visually distinct cards. This structure allows users to maintain an overview of the day's schedule while exploring specific details, which is highly usable for a time-sensitive plan. Clicking on timeline items smoothly scrolls the user to the corresponding detail card. This design prioritizes chronological flow and ease of access to specific information over a simple linear document. -->
    <!-- Visualization & Content Choices:
        - Report Info: Day 1 schedule (travel, sightseeing, dining). Goal: Inform/Compare time allocation. Viz/Method: Doughnut Chart. Interaction: Hover tooltips. Justification: Provides a quick visual summary of how time is distributed throughout the day, adding a data-driven insight to the textual plan. Library: Chart.js (Canvas).
        - Report Info: All itinerary items (e.g., Dejima, Mt. Inasa, Gunkanjima). Goal: Organize/Inform. Viz/Method: Themed content cards with structured HTML/CSS and Unicode icons (e.g., 観光, 🍽️, 🌃). Interaction: Clickable timeline links scroll to the corresponding card. Justification: Cards neatly segment information, making the dense schedule easy to digest. Icons provide quick visual cues for activity types. Library: Tailwind CSS, Vanilla JS.
        - Report Info: Locations. Goal: Provide navigation aid. Viz/Method: HTML `<a>` links to Google Maps. Interaction: Click to open map in a new tab. Justification: More practical and lightweight for a user on the go than an embedded map. Library: Standard HTML. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans JP', 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        .nav-active {
            border-color: #0d9488; /* teal-600 */
            color: #0d9488;
            background-color: #f0fdfa; /* teal-50 */
        }
        .timeline-active {
            color: #0d9488;
            font-weight: 700;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div class="container mx-auto p-4 md:p-8 max-w-7xl">
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-teal-800">長崎2泊3日の旅</h1>
            <p class="mt-2 text-slate-600">2025年7月4日〜7月6日</p>
        </header>

        <nav class="flex justify-center border-b border-slate-200 mb-8">
            <button data-day="1" class="day-nav-btn nav-active text-lg font-semibold py-4 px-6 border-b-2">1日目</button>
            <button data-day="2" class="day-nav-btn text-lg font-semibold py-4 px-6 border-b-2 border-transparent text-slate-500 hover:text-teal-600 hover:border-slate-300 transition">2日目</button>
            <button data-day="3" class="day-nav-btn text-lg font-semibold py-4 px-6 border-b-2 border-transparent text-slate-500 hover:text-teal-600 hover:border-slate-300 transition">3日目</button>
        </nav>

        <main id="content-container">
            <!-- Content will be injected here -->
        </main>

    </div>

    <script>
        const travelData = {
            1: {
                title: "到着・歴史探訪・夜景",
                timeline: [
                    { id: "arrival", time: "15:25", title: "長崎到着・ホテルへ", icon: "✈️" },
                    { id: "dejima", time: "16:50", title: "出島観光", icon: "�️" },
                    { id: "dinner1", time: "18:00", title: "夕食：幸三すし", icon: "🍣" },
                    { id: "nightview", time: "20:35", title: "稲佐山夜景", icon: "🌃" },
                    { id: "bar", time: "22:10", title: "思案橋で一杯", icon: "🍸" },
                ],
                content: `
                    <p class="mb-6 text-slate-600 text-center">このセクションでは、長崎到着から始まる初日の旅程を詳しく紹介します。歴史的な出島を散策し、地元の寿司に舌鼓を打ち、日本三大夜景の一つである稲佐山からの絶景を楽しみます。夜は思案橋のバーで長崎の夜を満喫しましょう。</p>
                    <div class="chart-container mb-12">
                        <canvas id="day1-chart"></canvas>
                    </div>

                    <div id="arrival" class="scroll-mt-24 bg-white p-6 rounded-xl shadow-md mb-6 ring-1 ring-slate-900/5">
                        <h3 class="text-xl font-bold mb-2 text-teal-700">✈️ 15:25〜 長崎到着・ホテルへ</h3>
                        <p class="text-sm text-slate-500 mb-4">長崎空港 → カンデオホテルズ長崎新地中華街</p>
                        <ul class="list-disc list-inside space-y-2 text-slate-700">
                            <li><strong>15:25</strong> 長崎空港着</li>
                            <li><strong>15:45</strong> 長崎空港からバス乗車 (長崎駅前行き)</li>
                            <li><strong>16:20頃</strong> 長崎新地ターミナルで降車後、ホテルへチェックイン。</li>
                        </ul>
                    </div>
                    <div id="dejima" class="scroll-mt-24 bg-white p-6 rounded-xl shadow-md mb-6 ring-1 ring-slate-900/5">
                        <h3 class="text-xl font-bold mb-2 text-teal-700">🏛️ 16:50〜17:40 出島観光</h3>
                        <p class="text-sm text-slate-500 mb-4">日本の鎖国時代における唯一の西洋への窓口</p>
                        <p class="text-slate-700 mb-4">日本の歴史に触れる貴重な場所です。時間の都合上、駆け足での見学になるかもしれませんが、ミニチュア出島などで当時の雰囲気を味わってください。</p>
                        <a href="https://www.google.com/maps/search/?api=1&query=長崎+出島" target="_blank" class="text-teal-600 hover:text-teal-800 font-semibold">地図で場所を確認 →</a>
                    </div>
                    <div id="dinner1" class="scroll-mt-24 bg-white p-6 rounded-xl shadow-md mb-6 ring-1 ring-slate-900/5">
                        <h3 class="text-xl font-bold mb-2 text-teal-700">🍣 18:00〜19:30 夕食：幸三すし (予約済み)</h3>
                        <p class="text-sm text-slate-500 mb-4">新鮮な長崎の海の幸を堪能</p>
                        <p class="text-slate-700 mb-2"><strong>おすすめメニュー:</strong></p>
                        <ul class="list-disc list-inside space-y-2 text-slate-700">
                            <li>「おまかせにぎり13品」：非常にリーズナブルで美味しいと評判。</li>
                            <li>時期によっては「牡蠣焼き」や「穴子の白焼き」も絶品。</li>
                            <li>長崎ならではの「長崎鉄火（平政）」も試してみては。</li>
                        </ul>
                         <a href="https://www.google.com/maps/search/?api=1&query=長崎+幸三すし" target="_blank" class="mt-4 inline-block text-teal-600 hover:text-teal-800 font-semibold">地図で場所を確認 →</a>
                    </div>
                    <div id="nightview" class="scroll-mt-24 bg-white p-6 rounded-xl shadow-md mb-6 ring-1 ring-slate-900/5">
                        <h3 class="text-xl font-bold mb-2 text-teal-700">🌃 20:35〜 稲佐山展望台で夜景観賞</h3>
                        <p class="text-sm text-slate-500 mb-4">日本三大夜景の一つ</p>
                        <p class="text-slate-700 mb-4">1000万ドルの夜景と称される長崎の美しい夜景を堪能してください。ロープウェイへの無料循環バスは<strong class="text-red-600">完全予約制</strong>です。当日の12時以降に公式サイトで要予約。</p>
                        <ul class="list-disc list-inside space-y-2 text-slate-700">
                            <li><strong>20:00</strong> 無料循環バス乗車 (長崎みなとメディカルセンター前)</li>
                            <li><strong>20:30</strong> 長崎ロープウェイ乗車</li>
                            <li><strong>21:20</strong> 復路ロープウェイ乗車</li>
                        </ul>
                         <a href="https://www.google.com/maps/search/?api=1&query=長崎+稲佐山展望台" target="_blank" class="mt-4 inline-block text-teal-600 hover:text-teal-800 font-semibold">地図で場所を確認 →</a>
                    </div>
                    <div id="bar" class="scroll-mt-24 bg-white p-6 rounded-xl shadow-md mb-6 ring-1 ring-slate-900/5">
                        <h3 class="text-xl font-bold mb-2 text-teal-700">🍸 22:10〜 思案橋周辺のバーで一杯</h3>
                        <p class="text-sm text-slate-500 mb-4">一人旅の醍醐味、カウンターで長崎の夜を楽しむ</p>
                        <p class="text-slate-700 mb-2"><strong>おすすめバー:</strong></p>
                        <ul class="list-disc list-inside space-y-2 text-slate-700">
                            <li><strong>Bar HOO:</strong> 落ち着いた雰囲気でゆっくり飲める。</li>
                            <li><strong>Bar Le Moineau:</strong> カクテルの種類が豊富。</li>
                            <li><strong>Bar HASEGAWA:</strong> 老舗のクラシックな雰囲気。</li>
                        </ul>
                         <a href="https://www.google.com/maps/search/?api=1&query=長崎+思案橋" target="_blank" class="mt-4 inline-block text-teal-600 hover:text-teal-800 font-semibold">周辺の地図を確認 →</a>
                    </div>
                `
            },
            2: {
                title: "歴史散策とグルメ",
                timeline: [
                    { id: "meganebashi", time: "09:25", title: "眼鏡橋", icon: "🌉" },
                    { id: "ryoma", time: "10:10", title: "龍馬ゆかりの地", icon: "🚶" },
                    { id: "lunch2", time: "11:45", title: "昼食：五島うどん", icon: "🍜" },
                    { id: "peace", time: "13:40", title: "平和学習", icon: "🕊️" },
                    { id: "dinner2", time: "18:00", title: "夕食：ちゃんぽん", icon: "🍲" },
                ],
                content: `
                    <p class="mb-6 text-slate-600 text-center">2日目は長崎の多様な顔に触れる一日です。午前は眼鏡橋や坂本龍馬ゆかりの地を巡り、歴史の息吹を感じます。昼食には名物の五島うどんを。午後は平和公園と原爆資料館を訪れ、平和の尊さを学びます。夜は長崎のソウルフード、ちゃんぽんで締めくくります。</p>
                    <div id="meganebashi" class="scroll-mt-24 bg-white p-6 rounded-xl shadow-md mb-6 ring-1 ring-slate-900/5">
                        <h3 class="text-xl font-bold mb-2 text-teal-700">🌉 09:25〜09:55 眼鏡橋 観光</h3>
                        <p class="text-sm text-slate-500 mb-4">日本最古のアーチ型石橋</p>
                        <p class="text-slate-700 mb-4">水面に映る姿が眼鏡のように見えることから名付けられました。ハートストーンを見つけるのも楽しみの一つです。</p>
                        <a href="https://www.google.com/maps/search/?api=1&query=長崎+眼鏡橋" target="_blank" class="text-teal-600 hover:text-teal-800 font-semibold">地図で場所を確認 →</a>
                    </div>
                     <div id="ryoma" class="scroll-mt-24 bg-white p-6 rounded-xl shadow-md mb-6 ring-1 ring-slate-900/5">
                        <h3 class="text-xl font-bold mb-2 text-teal-700">🚶 10:10〜11:30 亀山社中記念館、龍馬通り 散策</h3>
                        <p class="text-sm text-slate-500 mb-4">坂本龍馬が見た長崎の街に思いを馳せる</p>
                        <p class="text-slate-700 mb-2">日本初の商社「亀山社中」の跡地や、龍馬ゆかりの地を巡ります。<strong class="text-red-600">坂道が多いので歩きやすい靴が必須です。</strong></p>
                        <ul class="list-disc list-inside space-y-2 text-slate-700">
                           <li>亀山社中記念館</li>
                           <li>龍馬のぶーつ像</li>
                           <li>若宮稲荷神社</li>
                           <li>風頭公園（坂本龍馬之像）</li>
                        </ul>
                         <a href="https://www.google.com/maps/search/?api=1&query=長崎+亀山社中記念館" target="_blank" class="mt-4 inline-block text-teal-600 hover:text-teal-800 font-semibold">亀山社中記念館の地図 →</a>
                    </div>
                     <div id="lunch2" class="scroll-mt-24 bg-white p-6 rounded-xl shadow-md mb-6 ring-1 ring-slate-900/5">
                        <h3 class="text-xl font-bold mb-2 text-teal-700">🍜 11:45〜13:00 昼食：だしぼんず</h3>
                        <p class="text-sm text-slate-500 mb-4">日本三大うどんの一つ、五島うどんを堪能</p>
                        <p class="text-slate-700 mb-4">細麺でありながらコシが強く、つるりとした喉ごしが特徴。あご（トビウオ）だしの優しいスープとの相性は抜群です。</p>
                        <a href="https://www.google.com/maps/search/?api=1&query=長崎+だしぼんず" target="_blank" class="text-teal-600 hover:text-teal-800 font-semibold">地図で場所を確認 →</a>
                    </div>
                    <div id="peace" class="scroll-mt-24 bg-white p-6 rounded-xl shadow-md mb-6 ring-1 ring-slate-900/5">
                        <h3 class="text-xl font-bold mb-2 text-teal-700">🕊️ 13:40〜16:00 長崎原爆資料館、平和公園 見学</h3>
                        <p class="text-sm text-slate-500 mb-4">長崎の歴史を深く知る</p>
                        <p class="text-slate-700 mb-4">長崎を訪れる上で欠かせない場所です。平和への祈りが込められた空間で、静かに歴史と向き合う時間を取りましょう。</p>
                        <a href="https://www.google.com/maps/search/?api=1&query=長崎原爆資料館" target="_blank" class="text-teal-600 hover:text-teal-800 font-semibold">地図で場所を確認 →</a>
                    </div>
                    <div id="dinner2" class="scroll-mt-24 bg-white p-6 rounded-xl shadow-md mb-6 ring-1 ring-slate-900/5">
                        <h3 class="text-xl font-bold mb-2 text-teal-700">🍲 18:00〜19:30 夕食：亜妙 本店 (予約済み)</h3>
                        <p class="text-sm text-slate-500 mb-4">長崎のソウルフード、ちゃんぽんを居酒屋スタイルで</p>
                        <p class="text-slate-700 mb-2"><strong>おすすめメニュー:</strong></p>
                         <ul class="list-disc list-inside space-y-2 text-slate-700">
                            <li>「お刺身盛り」：寿司屋レベルと高評価。</li>
                            <li>「長崎豚の角煮」：甘くジューシーでご飯が進むと評判。</li>
                            <li>その他、「アジフライ」や「大手羽焼き」なども人気。</li>
                        </ul>
                         <a href="https://www.google.com/maps/search/?api=1&query=長崎+亜妙本店" target="_blank" class="mt-4 inline-block text-teal-600 hover:text-teal-800 font-semibold">地図で場所を確認 →</a>
                    </div>
                `
            },
            3: {
                title: "世界遺産と旅の終わり",
                timeline: [
                    { id: "gunkanjima", time: "09:00", title: "軍艦島ツアー", icon: "🚢" },
                    { id: "lunch3", time: "11:45", title: "昼食", icon: "🍽️" },
                    { id: "souvenir", time: "12:45", title: "お土産探し", icon: "🛍️" },
                    { id: "departure", time: "13:40", title: "長崎空港へ", icon: "🚌" },
                ],
                content: `
                    <p class="mb-6 text-slate-600 text-center">最終日は、世界遺産・軍艦島への上陸ツアーからスタートします。廃墟となった島の迫力と歴史の重みを感じてください。ツアー後は、長崎港周辺で最後の食事とお土産探しを楽しみ、旅の思い出を胸に帰路につきます。</p>
                    <div id="gunkanjima" class="scroll-mt-24 bg-white p-6 rounded-xl shadow-md mb-6 ring-1 ring-slate-900/5">
                        <h3 class="text-xl font-bold mb-2 text-teal-700">🚢 09:00〜11:30 軍艦島ツアー (予約済み)</h3>
                        <p class="text-sm text-slate-500 mb-4">世界文化遺産「端島炭坑」</p>
                        <p class="text-slate-700 mb-4">かつて炭鉱で栄えた島の歴史を感じてください。上陸ツアーは天候に左右されるため、晴れることを祈りましょう。</p>
                        <a href="https://www.google.com/maps/search/?api=1&query=長崎港ターミナル+大波止" target="_blank" class="text-teal-600 hover:text-teal-800 font-semibold">長崎港ターミナルの地図 →</a>
                    </div>
                     <div id="lunch3" class="scroll-mt-24 bg-white p-6 rounded-xl shadow-md mb-6 ring-1 ring-slate-900/5">
                        <h3 class="text-xl font-bold mb-2 text-teal-700">🍽️ 11:45〜12:45 昼食</h3>
                        <p class="text-sm text-slate-500 mb-4">長崎港ターミナル周辺</p>
                        <p class="text-slate-700 mb-4">まだ食べていない長崎グルメを試す最後のチャンス。出島ワーフで海を見ながらのランチもおすすめです。</p>
                    </div>
                     <div id="souvenir" class="scroll-mt-24 bg-white p-6 rounded-xl shadow-md mb-6 ring-1 ring-slate-900/5">
                        <h3 class="text-xl font-bold mb-2 text-teal-700">🛍️ 12:45〜13:30 お土産購入</h3>
                        <p class="text-sm text-slate-500 mb-4">長崎の思い出を持ち帰る</p>
                        <p class="text-slate-700 mb-2"><strong>定番のお土産:</strong></p>
                         <ul class="list-disc list-inside space-y-2 text-slate-700">
                            <li>カステラ (文明堂総本店, 福砂屋, 松翁軒)</li>
                            <li>長崎角煮まんじゅう (岩崎本舗)</li>
                            <li>五島うどん、よりより、かんころ餅など</li>
                        </ul>
                        <p class="text-slate-700 mt-4 mb-2"><strong>購入場所:</strong></p>
                         <ul class="list-disc list-inside space-y-2 text-slate-700">
                             <li>長崎街道かもめ市場 (JR長崎駅)</li>
                             <li>長崎県物産館</li>
                             <li>長崎空港</li>
                         </ul>
                         <a href="https://www.google.com/maps/search/?api=1&query=長崎街道かもめ市場" target="_blank" class="mt-4 inline-block text-teal-600 hover:text-teal-800 font-semibold">長崎街道かもめ市場の地図 →</a>
                    </div>
                    <div id="departure" class="scroll-mt-24 bg-white p-6 rounded-xl shadow-md mb-6 ring-1 ring-slate-900/5">
                        <h3 class="text-xl font-bold mb-2 text-teal-700">🚌 13:40〜 帰路へ</h3>
                        <p class="text-sm text-slate-500 mb-4">長崎駅前 → 長崎空港</p>
                         <ul class="list-disc list-inside space-y-2 text-slate-700">
                           <li><strong>13:40</strong> 長崎駅前バス乗車</li>
                           <li><strong>14:20頃</strong> 長崎空港到着</li>
                           <li><strong>15:05</strong> 長崎空港発 (羽田行き)</li>
                           <li><strong>17:05</strong> 羽田空港着</li>
                        </ul>
                        <p class="mt-4 text-slate-700">お疲れ様でした！</p>
                    </div>
                `
            }
        };

        const contentContainer = document.getElementById('content-container');
        const navButtons = document.querySelectorAll('.day-nav-btn');
        let currentDay = 1;
        let activeTimelineLink = null;
        let day1Chart = null;

        function renderContent(day) {
            const data = travelData[day];
            if (!data) return;

            const timelineHtml = data.timeline.map(item => `
                <li class="mb-4">
                    <a href="#${item.id}" data-id="${item.id}" class="timeline-link flex items-center text-slate-600 hover:text-teal-600 transition">
                        <span class="font-semibold w-16">${item.time}</span>
                        <span class="ml-4">${item.title}</span>
                    </a>
                </li>
            `).join('');

            contentContainer.innerHTML = `
                <div class="md:grid md:grid-cols-4 md:gap-8">
                    <aside class="md:col-span-1 md:sticky md:top-8 h-full mb-8 md:mb-0">
                        <h2 class="text-2xl font-bold mb-4 text-teal-700">${data.title}</h2>
                        <ul id="timeline-nav">
                            ${timelineHtml}
                        </ul>
                    </aside>
                    <div id="right-panel" class="md:col-span-3">
                        ${data.content}
                    </div>
                </div>
            `;

            if (day == 1) {
                renderDay1Chart();
            }

            addTimelineListeners();
            setupIntersectionObserver();
        }

        function renderDay1Chart() {
            const ctx = document.getElementById('day1-chart').getContext('2d');
            if(day1Chart) {
                day1Chart.destroy();
            }
            day1Chart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['移動', '観光・散策', '食事', '夜景・バー'],
                    datasets: [{
                        label: '時間の使い方 (分)',
                        data: [110, 50, 90, 160], // Approximate minutes
                        backgroundColor: [
                            'rgba(51, 65, 85, 0.7)',  // slate-700
                            'rgba(15, 118, 110, 0.7)', // teal-700
                            'rgba(249, 115, 22, 0.7)', // orange-500
                            'rgba(71, 85, 105, 0.5)' // slate-600
                        ],
                        borderColor: [
                            'rgba(51, 65, 85, 1)',
                            'rgba(15, 118, 110, 1)',
                            'rgba(249, 115, 22, 1)',
                            'rgba(71, 85, 105, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        title: {
                            display: true,
                            text: '1日目の活動時間配分（目安）',
                            font: { size: 16 }
                        },
                        tooltip: {
                             callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed !== null) {
                                        label += context.parsed + '分';
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });
        }


        function handleNavClick(e) {
            const day = e.target.dataset.day;
            if (day && day !== currentDay) {
                currentDay = day;
                navButtons.forEach(btn => {
                    btn.classList.toggle('nav-active', btn.dataset.day === day);
                });
                renderContent(day);
            }
        }

        function addTimelineListeners() {
            document.querySelectorAll('.timeline-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    document.querySelector(link.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });
        }

        function setupIntersectionObserver() {
            const rightPanel = document.getElementById('right-panel');
            if(!rightPanel) return;

            const contentSections = rightPanel.children;
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.id;
                        const timelineLink = document.querySelector(`.timeline-link[data-id="${id}"]`);

                        if (timelineLink && timelineLink !== activeTimelineLink) {
                            if(activeTimelineLink) {
                                activeTimelineLink.classList.remove('timeline-active');
                            }
                            timelineLink.classList.add('timeline-active');
                            activeTimelineLink = timelineLink;
                        }
                    }
                });
            }, { rootMargin: "-50% 0px -50% 0px", threshold: 0 });

            Array.from(contentSections).forEach(section => {
                 if(section.id) observer.observe(section);
            });
        }

        navButtons.forEach(button => button.addEventListener('click', handleNavClick));

        renderContent(currentDay);
    </script>
</body>
</html>
�
